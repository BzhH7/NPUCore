# Benchmark Suite (æ€§èƒ½åŸºå‡†æµ‹è¯•å¥—ä»¶)

å…¨é¢çš„å†…æ ¸æ€§èƒ½æµ‹è¯•å·¥å…·ï¼Œç”¨äºå±•ç¤ºå’Œæµ‹é‡æ“ä½œç³»ç»Ÿå†…æ ¸çš„å„é¡¹æ€§èƒ½æŒ‡æ ‡ã€‚

## æµ‹è¯•é¡¹ç›®

| æµ‹è¯• | æè¿° | æµ‹é‡æŒ‡æ ‡ |
|------|------|----------|
| `syscall` | ç³»ç»Ÿè°ƒç”¨å¼€é”€ | getpid() è°ƒç”¨å»¶è¿Ÿ |
| `fork` | è¿›ç¨‹åˆ›å»º | fork+exit+wait å‘¨æœŸ |
| `memory` | å†…å­˜åˆ†é… | mmap/munmap å»¶è¿Ÿ |
| `file` | æ–‡ä»¶I/O | è¯»å†™ååé‡ (MB/s) |
| `pipe` | ç®¡é“é€šä¿¡ | æ¶ˆæ¯ä¼ é€’å»¶è¿Ÿ |
| `yield` | ä¸Šä¸‹æ–‡åˆ‡æ¢ | sched_yield() å»¶è¿Ÿ |
| `time` | æ—¶é—´è·å– | gettimeofday() å»¶è¿Ÿ |

## ç¼–è¯‘

```bash
make        # ç¼–è¯‘ä¸¤ä¸ªæ¶æ„ç‰ˆæœ¬
make clean  # æ¸…ç†
```

## ä½¿ç”¨

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
./bench

# è¿è¡Œç‰¹å®šæµ‹è¯•
./bench syscall
./bench fork memory
./bench file pipe
```

## è¾“å‡ºç¤ºä¾‹

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘        ğŸš€ OS KERNEL BENCHMARK SUITE ğŸš€                   â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  ğŸ“Š System Call Overhead (getpid)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  Total time                         123456 Âµs
  Iterations                         100000 calls
  Time per syscall                     1.23 Âµs
  Syscalls per second              812345.00 calls/s
```

## æ¼”ç¤ºçš„å†…æ ¸åŠŸèƒ½

- **ç³»ç»Ÿè°ƒç”¨**: `getpid`, `fork`, `wait`, `exit`
- **å†…å­˜ç®¡ç†**: `mmap`, `munmap`, `memset`
- **æ–‡ä»¶ç³»ç»Ÿ**: `open`, `write`, `read`, `fsync`, `close`, `unlink`
- **è¿›ç¨‹é—´é€šä¿¡**: `pipe`
- **è°ƒåº¦**: `sched_yield`
- **æ—¶é—´**: `gettimeofday`
